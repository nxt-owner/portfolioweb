<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Merry Christmas</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <meta property="og:title" content="Merry Christmas & Happy New Year" />
  <meta property="og:description" content="A festive greeting made just for you" />
  <meta property="og:type" content="website" />

  <style>
    * { box-sizing: border-box; }

    body {
      margin: 0;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
     background: #1a1f71; /* deeper twilight blue */
      font-family: Georgia, serif;
      overflow: hidden;
    }

    /* Snow canvas */
    canvas {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 1;
    }

    /* Card */
    .card {
      position: relative;
      z-index: 2;
      width: 95%;
      max-width: 960px;
      aspect-ratio: 16 / 9;
      background-image: url("https://github.com/nxt-owner/portfolioweb/blob/main/santa/santa.jpg?raw=true");
      background-size: cover;
      background-repeat: no-repeat;
      border-radius: 18px;
      box-shadow: 0 30px 80px rgba(0, 0, 0, 0.25);
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      padding: 60px 40px;
      color: #4c7f80;
    }

    /* Sleigh motion illusion */
    @keyframes sleighMove {
      0%   { background-position: 0% center; }
      50%  { background-position: 100% center; }
      100% { background-position: 0% center; }
    }

    .title {
        padding-top: 30%;
      text-align: center;
      letter-spacing: 0.35em;
      font-size: clamp(1.8rem, 4vw, 3rem);
      margin: 0;
       color: #18ad04; /* warm gold */
    }   

    .subtitle {
      text-align: center;
      letter-spacing: 0.4em;
      font-size: 0.9rem;
      color: #2c9e9c;
      margin-top: 8px;
    }

    .message {
      margin-top: 40px;
      text-align: center;
      font-size: clamp(1.1rem, 2.5vw, 1.4rem);
      padding: 0 20px;
    }

    .footer {
      margin-top: 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
      flex-wrap: wrap;
    }

    .from {
      font-style: italic;
      font-size: 1.1rem;
    }

    .share {
      border: none;
      background: #33bd7869;
      color: #004646;
      padding: 10px 18px;
      border-radius: 25px;
      cursor: pointer;
      font-size: 14px;
      font-weight: bold;
      backdrop-filter: blur(6px);
    }

    .share:active {
      transform: scale(0.96);
    }
    /* Modal */
.modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.6);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 10;
}

.modal-content {
  background: #ffffff;
  width: 90%;
  max-width: 360px;
  border-radius: 16px;
  padding: 20px;
  text-align: center;
  color: #333;
}

.modal-content h3 {
  margin-top: 0;
  color: #0b2a81;
}

.modal-content input,
.modal-content textarea {
  width: 100%;
  padding: 10px 12px;
  margin-top: 10px;
  border-radius: 8px;
  border: 1px solid #ccc;
  font-size: 14px;
}

.modal-actions {
  margin-top: 15px;
  display: flex;
  justify-content: space-between;
  gap: 10px;
}

.modal-actions button {
  flex: 1;
  border: none;
  padding: 10px;
  border-radius: 20px;
  cursor: pointer;
  font-size: 14px;
}

#cancelShare {
  background: #eee;
}

#sendShare {
  background: #25d366;
  color: white;
}


    /* Mobile */
    @media (max-width: 600px) {
      .card {
        padding: 100px 20px;
        animation: sleighMove 20s linear infinite;
      }

      .footer {
        flex-direction: column;
        align-items: center;
      }
      .title {
padding-top: 50%;
    }
    }
  </style>
</head>

<body>

<canvas id="snow"></canvas>
<!-- Top-right Music Toggle button -->
<div id="musicToggle" style="
  position: fixed;
  top: 20px;
  right: 20px;
  z-index: 5;
  background: #33bd7869;
  color: #fff;
  padding: 10px 18px;
  border-radius: 25px;
  cursor: pointer;
  font-size: 14px;
  backdrop-filter: blur(6px);
">
  üîä Music On
</div>

<!-- Background music -->
<audio id="bgMusic" src="carol-of-the-bells_short-1-263249.mp3" autoplay loop></audio>


<!-- Bottom-center site link -->
<div style="
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 5;
  font-size: 14px;
  color: #fff;
  text-align: center;
">
  Made with ‚ù§Ô∏è by <a href="https://techlasiya.com" target="_blank" style="color:#33bd78; text-decoration:none;">Tech Lasya</a>
</div>


<div class="card">
  <h1 class="title">MERRY CHRISTMAS</h1>
  <div class="subtitle">& HAPPY NEW YEAR</div>

  <div class="message" id="message"></div>

  <div class="footer">
    <div class="from">‚Äî <span id="fromName"></span></div>
    <button class="share" id="shareBtn">üîó Create New</button>
  </div>
</div>
<!-- Share Modal -->
<div id="shareModal" class="modal">
  <div class="modal-content">
    <h3>Share this card üéÑ</h3>

    <input
      type="text"
      id="shareName"
      placeholder="Your name"
    />

    <textarea
      id="shareMessage"
      placeholder="Your message"
      rows="3"
    ></textarea>

    <div class="modal-actions">
      <button id="cancelShare">Cancel</button>
      <button id="sendShare">Send via WhatsApp</button>
    </div>
  </div>
</div>


<script>
  // üéÅ URL parameters
  const params = new URLSearchParams(window.location.search);
  const name = params.get("name") || "Santa";
  const msg =
    params.get("msg") ||
    "May your season be calm, bright, and full of quiet joy.";

  document.getElementById("fromName").textContent = decodeURIComponent(name);
  document.getElementById("message").textContent = decodeURIComponent(msg);

  // üîó Share button
const modal = document.getElementById("shareModal");
const shareBtn = document.getElementById("shareBtn");
const cancelBtn = document.getElementById("cancelShare");
const sendBtn = document.getElementById("sendShare");

shareBtn.onclick = () => {
  modal.style.display = "flex";
};

cancelBtn.onclick = () => {
  modal.style.display = "none";
};

sendBtn.onclick = () => {
  const name = document.getElementById("shareName").value || "Santa";
  const message =
    document.getElementById("shareMessage").value ||
    "Wishing you a Merry Christmas and a Happy New Year!";

  const baseUrl = window.location.origin + window.location.pathname;
  const shareUrl =
    `${baseUrl}?name=${encodeURIComponent(name)}&msg=${encodeURIComponent(message)}`;

  const whatsappText =
    `üéÑ Merry Christmas!\n\nOpen your card:\n${shareUrl}`;

  const whatsappUrl =
    `https://wa.me/?text=${encodeURIComponent(whatsappText)}`;

  window.open(whatsappUrl, "_blank");
  modal.style.display = "none";
};

const musicToggle = document.getElementById('musicToggle');
const bgMusic = document.getElementById('bgMusic');

musicToggle.onclick = () => {
  if (bgMusic.paused) {
    bgMusic.play();
    musicToggle.textContent = 'üîä Music On';
  } else {
    bgMusic.pause();
    musicToggle.textContent = 'üîá Music Off';
  }
};


  // ‚ùÑÔ∏è Canvas snow
  const canvas = document.getElementById("snow");
  const ctx = canvas.getContext("2d");

  function resize() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  }
  window.addEventListener("resize", resize);
  resize();

  const flakes = Array.from({ length: 130 }, () => ({
    x: Math.random() * canvas.width,
    y: Math.random() * canvas.height,
    r: Math.random() * 2 + 0.5,
    s: Math.random() * 0.6 + 0.3
  }));

  function animate() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx.fillStyle = "rgba(255,255,255,0.75)";
    ctx.beginPath();

    flakes.forEach(f => {
      ctx.moveTo(f.x, f.y);
      ctx.arc(f.x, f.y, f.r, 0, Math.PI * 2);
      f.y += f.s;
      if (f.y > canvas.height) {
        f.y = -5;
        f.x = Math.random() * canvas.width;
      }
    });

    ctx.fill();
    requestAnimationFrame(animate);
  }

  animate();
</script>

</body>
</html>
